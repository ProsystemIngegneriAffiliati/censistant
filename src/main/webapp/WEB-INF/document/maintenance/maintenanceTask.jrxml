<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.6.0.final utlizzo versione della libreria JasperReports6.6.0  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="maintenanceTask" pageWidth="595" pageHeight="842" columnWidth="575" leftMargin="10" rightMargin="10" topMargin="10" bottomMargin="10" uuid="469dbe3b-ec1f-4869-b6a8-99d14aca6d98">
	<property name="com.jaspersoft.studio.unit." value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageHeight" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.topMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.bottomMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.leftMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.rightMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnSpacing" value="pixel"/>
	<parameter name="subReportPath" class="java.lang.String"/>
	<queryString>
		<![CDATA[]]>
	</queryString>
	<field name="number" class="java.lang.Integer"/>
	<field name="maintenanceContract" class="com.prosystemingegneri.censistant.business.maintenance.entity.MaintenanceContract"/>
	<field name="system" class="com.prosystemingegneri.censistant.business.production.entity.System"/>
	<field name="description" class="java.lang.String"/>
	<field name="creation" class="java.util.Date"/>
	<field name="inChargeWorker" class="com.prosystemingegneri.censistant.business.siteSurvey.entity.Worker"/>
	<field name="maintenanceWorker" class="com.prosystemingegneri.censistant.business.siteSurvey.entity.Worker"/>
	<field name="isGuaranteeValid" class="java.lang.Boolean"/>
	<field name="expiry" class="java.util.Date"/>
	<field name="closed" class="java.util.Date"/>
	<field name="closingNotes" class="java.lang.String"/>
	<field name="customerSignature" class="java.lang.String"/>
	<field name="maintenancePayments" class="java.util.List"/>
	<field name="paymentNotes" class="java.lang.String"/>
	<field name="preventiveMaintenance" class="com.prosystemingegneri.censistant.business.maintenance.entity.PreventiveMaintenance"/>
	<field name="inspectionsDone" class="java.util.List"/>
	<field name="taskPrice" class="com.prosystemingegneri.censistant.business.maintenance.entity.TaskPrice"/>
	<field name="replacements" class="java.util.List"/>
	<field name="isSuitableForOperation" class="java.lang.Boolean"/>
	<field name="customerSignatureImg" class="java.awt.Image"/>
	<field name="currentMaintenanceTask" class="com.prosystemingegneri.censistant.business.maintenance.entity.MaintenanceTask">
		<fieldDescription><![CDATA[_THIS]]></fieldDescription>
	</field>
	<detail>
		<band height="55" splitType="Stretch">
			<rectangle>
				<reportElement x="359" y="0" width="216" height="55" forecolor="#B4B4B4" uuid="accf497f-bdca-4e26-aff4-6a3d8323ce6f"/>
			</rectangle>
			<textField>
				<reportElement x="359" y="0" width="216" height="15" uuid="9c6fe173-7859-4728-8c86-8aedd191db01"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
					<paragraph firstLineIndent="0" leftIndent="1" rightIndent="1" spacingBefore="1" spacingAfter="1"/>
				</textElement>
				<textFieldExpression><![CDATA["RAPPORTO DI INTERVENTO n°"+$F{number}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="359" y="15" width="108" height="10" uuid="87ac88ed-ae44-43a3-815d-0bf085da9a45"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font size="6" isBold="false"/>
					<paragraph firstLineIndent="0" leftIndent="1" rightIndent="1" spacingBefore="1" spacingAfter="1"/>
				</textElement>
				<textFieldExpression><![CDATA["RICHIESTO IL: " + new SimpleDateFormat("dd/MM/yyyy").format($F{creation})]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="467" y="15" width="108" height="10" uuid="ef1de604-fc34-40fa-9867-cc7fa665ac01"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font size="6" isBold="false"/>
					<paragraph firstLineIndent="0" leftIndent="1" rightIndent="1" spacingBefore="1" spacingAfter="1"/>
				</textElement>
				<textFieldExpression><![CDATA["A: " + $F{inChargeWorker}.getInitials()]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="467" y="25" width="108" height="10" uuid="5d6890bb-2dbb-4104-86ff-ad39ee109d2a"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font size="6" isBold="false"/>
					<paragraph firstLineIndent="0" leftIndent="1" rightIndent="1" spacingBefore="1" spacingAfter="1"/>
				</textElement>
				<textFieldExpression><![CDATA["TECNICO: " + ($F{maintenanceWorker}!= null?$F{maintenanceWorker}.getInitials():"")]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="359" y="25" width="108" height="10" uuid="e96af905-038f-4a48-91bb-e25179c7703b"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font size="6" isBold="false"/>
					<paragraph firstLineIndent="0" leftIndent="1" rightIndent="1" spacingBefore="1" spacingAfter="1"/>
				</textElement>
				<textFieldExpression><![CDATA["INTERVENUTI IL: " + ($F{closed}!=null?new SimpleDateFormat("dd/MM/yyyy").format($F{closed}):"")]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="359" y="35" width="108" height="10" uuid="b7e7e751-fd9f-4766-a145-7bf4d13809b0"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font size="6" isBold="false"/>
					<paragraph firstLineIndent="0" leftIndent="1" rightIndent="1" spacingBefore="1" spacingAfter="1"/>
				</textElement>
				<textFieldExpression><![CDATA["GARANZIA: " + ($F{isGuaranteeValid}?"SÌ":"NO")]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="467" y="35" width="108" height="10" uuid="47ae50ba-e57b-40aa-91a9-0fd1883808ed"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font size="6" isBold="false"/>
					<paragraph firstLineIndent="0" leftIndent="1" rightIndent="1" spacingBefore="1" spacingAfter="1"/>
				</textElement>
				<textFieldExpression><![CDATA["CONTRATTO GARANZIA: " + (($F{maintenanceContract} != null && $F{maintenanceContract}.getIsFullService())?"SÌ":"NO")]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="359" y="45" width="108" height="10" uuid="3681afe9-3e87-4367-9bd4-1d295e36cbb0"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font size="6" isBold="false"/>
					<paragraph firstLineIndent="0" leftIndent="1" rightIndent="1" spacingBefore="1" spacingAfter="1"/>
				</textElement>
				<textFieldExpression><![CDATA["CONTRATTO MANUTENZIONE: " + ($F{maintenanceContract}!=null?"SÌ":"NO")]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="467" y="45" width="108" height="10" uuid="87c3a50e-7e41-4812-a4a2-e9704c120255"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font size="6" isBold="false"/>
					<paragraph firstLineIndent="0" leftIndent="1" rightIndent="1" spacingBefore="1" spacingAfter="1"/>
				</textElement>
				<textFieldExpression><![CDATA["INTERVENTO MESE: " + ($F{expiry}!=null?new SimpleDateFormat("MMMM yy").format($F{expiry}):"")]]></textFieldExpression>
			</textField>
		</band>
		<band height="50"/>
		<band height="51">
			<textField isStretchWithOverflow="true">
				<reportElement x="0" y="0" width="288" height="15" uuid="4719c048-bc6a-467d-854b-ce1d68266907"/>
				<box>
					<pen lineColor="#B4B4B4"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#B4B4B4"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#B4B4B4"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#B4B4B4"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#B4B4B4"/>
				</box>
				<textElement verticalAlignment="Top">
					<font size="8"/>
					<paragraph firstLineIndent="0" leftIndent="4" rightIndent="4" spacingBefore="4" spacingAfter="4"/>
				</textElement>
				<textFieldExpression><![CDATA["DIFETTO COMUNICATO" + System.lineSeparator() + System.lineSeparator() + $F{description} + System.lineSeparator()]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement stretchType="ContainerBottom" x="288" y="0" width="287" height="51" uuid="eed6ae78-f3df-4945-a98d-5e04c6c49b67"/>
				<box>
					<pen lineColor="#B4B4B4"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#B4B4B4"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#B4B4B4"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#B4B4B4"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#B4B4B4"/>
				</box>
				<textElement verticalAlignment="Top">
					<font size="8"/>
					<paragraph firstLineIndent="0" leftIndent="4" rightIndent="4" spacingBefore="4" spacingAfter="4"/>
				</textElement>
				<textFieldExpression><![CDATA["LAVORO ESEGUITO / NOTE" + System.lineSeparator() + System.lineSeparator() + $F{closingNotes} + System.lineSeparator()]]></textFieldExpression>
			</textField>
			<subreport>
				<reportElement positionType="Float" x="0" y="15" width="288" height="5" isRemoveLineWhenBlank="true" uuid="4d5815af-a92b-45b4-981c-01a78defc289">
					<printWhenExpression><![CDATA[$F{inspectionsDone}!=null&&!$F{inspectionsDone}.isEmpty()]]></printWhenExpression>
				</reportElement>
				<dataSourceExpression><![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{inspectionsDone})]]></dataSourceExpression>
				<subreportExpression><![CDATA[$P{subReportPath} + "inspectionDone.jasper"]]></subreportExpression>
			</subreport>
			<subreport>
				<reportElement positionType="Float" x="0" y="20" width="288" height="31" isRemoveLineWhenBlank="true" uuid="a243e8f1-a544-4434-8942-221f34b6ffcb">
					<printWhenExpression><![CDATA[$F{replacements}!=null&&!$F{replacements}.isEmpty()]]></printWhenExpression>
				</reportElement>
				<dataSourceExpression><![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{replacements})]]></dataSourceExpression>
				<subreportExpression><![CDATA[$P{subReportPath} + "replacement.jasper"]]></subreportExpression>
			</subreport>
		</band>
		<band height="200">
			<subreport>
				<reportElement stretchType="ContainerHeight" x="0" y="0" width="230" height="175" uuid="4fe13e03-e75b-4645-96f3-b14a35779194"/>
				<subreportParameter name="subReportPath">
					<subreportParameterExpression><![CDATA[$P{subReportPath}]]></subreportParameterExpression>
				</subreportParameter>
				<dataSourceExpression><![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource(Arrays.asList($F{taskPrice}))]]></dataSourceExpression>
				<subreportExpression><![CDATA[$P{subReportPath} + "taskPrice.jasper"]]></subreportExpression>
			</subreport>
			<subreport>
				<reportElement x="230" y="0" width="117" height="100" uuid="96fcba15-d28e-45e2-8bf3-3c2d10c6b999"/>
				<dataSourceExpression><![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{maintenancePayments})]]></dataSourceExpression>
				<subreportExpression><![CDATA[$P{subReportPath} + "maintenancePayment.jasper"]]></subreportExpression>
			</subreport>
			<textField isStretchWithOverflow="true">
				<reportElement positionType="Float" stretchType="ContainerBottom" x="230" y="100" width="117" height="100" uuid="cea76375-22f1-4029-96a1-6fe4e4817dfa">
					<printWhenExpression><![CDATA[$F{paymentNotes}!=null && !$F{paymentNotes}.isEmpty()]]></printWhenExpression>
				</reportElement>
				<box>
					<leftPen lineWidth="1.0" lineColor="#B4B4B4"/>
					<bottomPen lineWidth="1.0" lineColor="#B4B4B4"/>
					<rightPen lineWidth="1.0" lineColor="#B4B4B4"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font size="8" isBold="false"/>
					<paragraph leftIndent="4"/>
				</textElement>
				<textFieldExpression><![CDATA["NOTE" + System.lineSeparator() + System.lineSeparator() + $F{paymentNotes} + System.lineSeparator()]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="347" y="0" width="228" height="15" uuid="058769f4-7835-443a-9301-10005c3a6ea6"/>
				<box>
					<topPen lineWidth="1.0" lineColor="#B4B4B4"/>
					<leftPen lineWidth="1.0" lineColor="#B4B4B4"/>
					<rightPen lineWidth="1.0" lineColor="#B4B4B4"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="6" isBold="true"/>
				</textElement>
				<text><![CDATA[AVVERTENZE IMPORTANTI]]></text>
			</staticText>
			<staticText>
				<reportElement x="347" y="15" width="228" height="135" uuid="1c8d4272-5d27-4b6e-9441-0ac94911e83d"/>
				<box>
					<leftPen lineWidth="1.0" lineColor="#B4B4B4"/>
					<rightPen lineWidth="1.0" lineColor="#B4B4B4"/>
				</box>
				<textElement textAlignment="Justified" verticalAlignment="Top">
					<font size="5" isBold="false"/>
					<paragraph leftIndent="2" rightIndent="2"/>
				</textElement>
				<text><![CDATA[1) In caso di mancato pagamento il ns. centro di assistenza non effettuerà interventi fino a saldo dell’importo dovutoci. Il costo di intervento come sopra evidenziato ed accettato deve essere saldato per contanti contestualmente alla firma della presente a meno di preventiva pattuizione contraria. Il pagamento differito verrà maggiorato degli oneri di incasso. Sul ritardato pagamento verranno applicati gli interessi al TOP-RATE bancario maggiorato del 2%.

2) I Sigg. Committenti sono pregati di controllare l'esatta annotazione delle ore di lavoro sui rapporti che verranno presentati alla firma.

3) L’apposizione della forma vale anche come benestare delle spese di viaggio, trasferta, ecc.; e pertanto non potrà essere in seguito sollevata eccezione alcuna.

4) La garanzia decorre dalla data del COLLAUDO ed è valida per 6 mesi.

5) La garanzia decade immediatamente, come pura la nostra responsabilità sull’impianto in caso di manomissione di tutte o parte delle apparecchiature, di modifiche e riparazione eseguite da persone da noi non autorizzate, di cattiva manutenzione, di trascuratezza o dell’incapacità dell’utente.


Confermiamo l’effettiva durata del lavoro e ci dichiariamo soddisfatti dell'intervento.]]></text>
			</staticText>
			<textField>
				<reportElement x="347" y="150" width="228" height="10" uuid="e1c5f533-389b-41b8-9bd2-eb990fdd4d2b"/>
				<box>
					<pen lineColor="#B4B4B4"/>
					<leftPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="5"/>
					<paragraph leftIndent="2"/>
				</textElement>
				<textFieldExpression><![CDATA["Si dichiara che l'impianto " + ($F{isSuitableForOperation}?"è idoneo":"non è idoneo") + " al funzionamento"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement positionType="FixRelativeToBottom" stretchType="ContainerHeight" x="0" y="175" width="95" height="25" uuid="927215be-926c-41cd-a53e-2f17df8dc982"/>
				<box>
					<pen lineWidth="1.0" lineStyle="Solid" lineColor="#B4B4B4"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#B4B4B4"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#B4B4B4"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#B4B4B4"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#B4B4B4"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
					<paragraph leftIndent="4" rightIndent="4"/>
				</textElement>
				<textFieldExpression><![CDATA["FIRMA DEL TECNICO" + System.lineSeparator() + $F{maintenanceWorker}.getName()]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement positionType="FixRelativeToBottom" stretchType="ContainerHeight" x="135" y="175" width="95" height="15" uuid="8e5578dd-63ce-41e8-b8d1-98018ff766dd"/>
				<box>
					<pen lineWidth="1.0" lineStyle="Solid" lineColor="#B4B4B4"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="8"/>
					<paragraph leftIndent="4" rightIndent="4"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{currentMaintenanceTask}.getPrice()]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement positionType="FixRelativeToBottom" stretchType="ContainerHeight" x="95" y="175" width="40" height="25" uuid="b908dbf9-1bcb-40a5-a78a-b39bb4d2c279"/>
				<box>
					<pen lineWidth="1.0" lineStyle="Solid" lineColor="#B4B4B4"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#B4B4B4"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#B4B4B4"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#B4B4B4"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#B4B4B4"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
					<paragraph leftIndent="0" rightIndent="0"/>
				</textElement>
				<text><![CDATA[TOTALE]]></text>
			</staticText>
			<staticText>
				<reportElement positionType="FixRelativeToBottom" stretchType="ContainerHeight" x="135" y="190" width="95" height="10" uuid="501fe9bf-05ca-4016-a9e0-9cc323404e47"/>
				<box>
					<pen lineWidth="1.0" lineStyle="Solid" lineColor="#B4B4B4"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#B4B4B4"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#B4B4B4"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#B4B4B4"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#B4B4B4"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="6" isBold="false"/>
					<paragraph leftIndent="0" rightIndent="0"/>
				</textElement>
				<text><![CDATA[+ I.V.A.]]></text>
			</staticText>
			<staticText>
				<reportElement x="347" y="160" width="40" height="40" uuid="d70ba5d7-31d2-43d5-a1b1-50d21aa19721"/>
				<box>
					<pen lineColor="#B4B4B4"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0" lineColor="#B4B4B4"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="5"/>
					<paragraph leftIndent="2"/>
				</textElement>
				<text><![CDATA[IL CLIENTE]]></text>
			</staticText>
			<image hAlign="Center" vAlign="Middle">
				<reportElement x="387" y="160" width="188" height="40" uuid="f1b624fb-0b8a-4e6b-a760-296c5c053d75"/>
				<box>
					<bottomPen lineWidth="1.0" lineColor="#B4B4B4"/>
					<rightPen lineWidth="1.0" lineColor="#B4B4B4"/>
				</box>
				<imageExpression><![CDATA[$F{customerSignatureImg}]]></imageExpression>
			</image>
		</band>
	</detail>
</jasperReport>
